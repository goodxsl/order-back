{"version":3,"sources":["pages/list.jsx","pages/myInfo.jsx","pages/order.jsx","App2.jsx","index.js"],"names":["List","data","id","setData","setShow","show","useState","count","setCount","prize","setPrize","useEffect","countNum","prizeTemp","map","item","num","jiage","console","log","style","width","height","background","fontSize","display","justifyContent","alignItem","lineHeight","marginTop","src","url","alt","position","fontFamily","marginLeft","name","bottom","right","disabled","key","onClick","message","info","axios","post","then","res","success","err","catch","get","list","border","borderRadius","float","top","MyInfo","alignItems","contentStyle","color","textAlign","Order","setId","window","location","search","split","length","updataData","active","chengeNum","autoplay","orderList","App2","path","element","borderTop","flex","borderRight","to","textDecoration","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.840b8ca4.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { Card, Button, Space, Empty, message } from 'antd'\r\nimport axios from 'axios'\r\n\r\nexport default function List({ data, setData, id,setShow,show }) {\r\n  const [count, setCount] = useState(0);\r\n  const [prize, setPrize] = useState(0.00);\r\n  useEffect(() => {\r\n    let countNum = 0;\r\n    let prizeTemp = 0;\r\n    data.map(item => {\r\n      if (item.num !== 0) {\r\n        countNum++;\r\n        prizeTemp = prizeTemp + item.num * item.jiage;\r\n        console.log(prizeTemp);\r\n      }\r\n    })\r\n    setCount(countNum);\r\n    setPrize(prizeTemp);\r\n  }, [])\r\n  const onSumbit = () => {\r\n    if (prize === 0) {\r\n      message.info('快去点餐吧');\r\n    } else {\r\n      if(!show){\r\n        message.info('你已经点过餐了');\r\n        return;\r\n      }\r\n      axios.post('api1/order', { id: id }).then(res => {\r\n        // this.setState({name:res.data.list[0].name})\r\n        message.success('订单提交成功，请耐心等餐');\r\n        setShow(false);\r\n      }, err => {\r\n        console.log(err);\r\n      }).catch(() => {\r\n        message.info('点餐失败，请刷新重新点餐');\r\n      })\r\n      axios.get('api1/users').then(res => {\r\n        console.log(res.data.list);\r\n      }, err => {\r\n        console.log(err);\r\n      })\r\n    }\r\n  }\r\n  return (\r\n    <>\r\n      <div style={{ width: '100%', height: '50px', background: 'rgb(126, 139, 146)', fontSize: '20px', display: 'flex', justifyContent: 'center', alignItem: 'center', lineHeight: '50px' }}>订单列表</div>\r\n      <div>\r\n        {\r\n          count === 0 ?\r\n            <Empty style={{ marginTop: '200px' }} />\r\n            : data.map(item => {\r\n              if (item.num !== 0) {\r\n                return (\r\n                  <Card key={item.key} style={{ width: '100%' }}>\r\n                    <img style={{ width: '180px', height: '110px', display: 'inline-block' }} src={item.url} alt=\"\" />\r\n                    <div style={{ display: 'inline-block', position: 'absolute', fontSize: '20px', fontFamily: 'Monospace', marginLeft: '15px' }}>{item.name}</div>\r\n                    <div style={{ display: 'inline-block', position: 'absolute', fontSize: '20px', fontFamily: 'Monospace', bottom: '20px', marginLeft: '15px' }}>¥{item.jiage}</div>\r\n                    <div style={{ position: 'absolute', right: '20px', bottom: '20px' }}>\r\n                      <Space>\r\n                        <Button disabled={true} style={{ width: '35px', display: 'inline-block' }}>-</Button>\r\n                        <span style={{ width: '10px', display: 'inline-block' }}>{item.num}</span>\r\n                        <Button disabled={true} style={{ width: '35px', display: 'inline-block' }}>+</Button>\r\n                      </Space>\r\n                    </div>\r\n                  </Card>\r\n                )\r\n              } else {\r\n                return null;\r\n              }\r\n            })\r\n        }\r\n      </div>\r\n      <div style={{ height: '100px' }}>\r\n\r\n      </div>\r\n      <div style={{ position: 'fixed', bottom: '50px', width: '100%', height: '50px', background: 'rgb(126, 139, 146)' }}>\r\n        <div style={{ fontSize: '25px', position: 'absolute' }}>合计：{prize}¥</div>\r\n        <Button onClick={onSumbit} style={{ border: 'none', borderRadius: '10px', width: '100px', float: 'right', position: 'relative', top: '-10px', background: '#808080' }}>提交订单</Button>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function MyInfo() {\r\n  return (\r\n    <div style={{ width: '100%', height: '80vh',display:'flex',justifyContent:'center',alignItems:'center' }}>功能待开发，敬请期待······</div>\r\n  )\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { Carousel, Card, Button, Space, message } from 'antd'\r\nconst contentStyle = {\r\n  height: '200px',\r\n  color: '#fff',\r\n  lineHeight: '160px',\r\n  textAlign: 'center',\r\n  background: '#364d79',\r\n};\r\nconst Order = ({ data, setData, setId,id }) => {\r\n  useEffect(() => {\r\n    if(window.location.search.split('?id=')[1]&&window.location.search.split('?id=')[1].length>0){\r\n      setId(window.location.search.split('?id=')[1]);\r\n    }\r\n  }, [])\r\n\r\n  const updataData = (key, active) => {\r\n    setData(data.map(item => {\r\n      if (item.key === key) {\r\n        let chengeNum = item.num;\r\n        if (active === \"add\" && chengeNum < 10) {\r\n          return { ...item, num: chengeNum + 1 };\r\n        } else if (active === \"delect\" && chengeNum > 0) {\r\n          return { ...item, num: chengeNum - 1 };\r\n        } else {\r\n          message.info('请选择合适的数量');\r\n          return item;\r\n        }\r\n      } else {\r\n        return item;\r\n      }\r\n    }));\r\n  }\r\n  return (\r\n    <>\r\n      <Carousel autoplay>\r\n        <div>\r\n          <h3 style={contentStyle}>\r\n            <img style={{ width: '100%', height: '200px' }} src=\"http://47.102.145.29/picture/lunbo1.jpg\" alt=\"\" />\r\n          </h3>\r\n        </div>\r\n        <div>\r\n          <h3 style={contentStyle}>\r\n            <img style={{ width: '100%', height: '200px' }} src=\"http://47.102.145.29/picture/lunbo3.jpg\" alt=\"\" />\r\n          </h3>\r\n        </div>\r\n        <div>\r\n          <h3 style={contentStyle}>\r\n            <img style={{ width: '100%', height: '200px' }} src=\"http://47.102.145.29/picture/lunbo2.jpg\" alt=\"\" />\r\n          </h3>\r\n        </div>\r\n        <div>\r\n          <h3 style={contentStyle}>我是凑数的</h3>\r\n        </div>\r\n      </Carousel>\r\n      {\r\n        data.map(item => (\r\n          <Card key={item.key} style={{ width: '100%' }}>\r\n            <img style={{ width: '180px', height: '110px', display: 'inline-block' }} src={item.url} alt=\"\" />\r\n            <div style={{ display: 'inline-block',position:'absolute',fontSize:'20px',fontFamily:'Monospace',marginLeft:'15px'}}>{item.name}</div>\r\n            <div style={{ display: 'inline-block',position:'absolute',fontSize:'20px',fontFamily:'Monospace',bottom:'20px',marginLeft:'15px'}}>¥{item.jiage}</div>\r\n            <div style={{ position: 'absolute', right: '20px', bottom: '20px' }}>\r\n              <Space>\r\n                <Button onClick={() => updataData(item.key, \"delect\")} style={{ width: '35px', display: 'inline-block' }}>-</Button>\r\n                <span style={{ width: '10px', display: 'inline-block' }}>{item.num}</span>\r\n                <Button onClick={() => updataData(item.key, \"add\")} style={{ width: '35px', display: 'inline-block' }}>+</Button>\r\n              </Space>\r\n            </div>\r\n          </Card>\r\n        ))\r\n      }\r\n      <div style={{ height: '50px' }}>\r\n\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Order;","import React, { useState } from 'react'\r\nimport { BrowserRouter as Router, Routes, Route, Link   } from 'react-router-dom';\r\nimport List from './pages/list';\r\nimport { Redirect } from 'react-router'\r\nimport MyInfo from './pages/myInfo';\r\nimport Order from './pages/order';\r\nconst orderList = [\r\n  {\r\n    key: 1,\r\n    url: 'http://47.102.145.29/picture/cai1.jpg',\r\n    num: 0,\r\n    name: '蟹脚捞粉',\r\n    jiage: 56.00,\r\n  },\r\n  {\r\n    key: 2,\r\n    url: 'http://47.102.145.29/picture/cai2.jpg',\r\n    num: 0,\r\n    name: '红豆汤',\r\n    jiage: 3.00,\r\n  },\r\n  {\r\n    key: 3,\r\n    url: 'http://47.102.145.29/picture/cai3.jpg',\r\n    num: 0,\r\n    name: '红烧鸡爪',\r\n    jiage: 39.00,\r\n  },\r\n  {\r\n    key: 4,\r\n    url: 'http://47.102.145.29/picture/cai4.jpg',\r\n    num: 0,\r\n    name: '嫩豆腐烧牛蛙',\r\n    jiage: 48,\r\n  },\r\n  {\r\n    key: 5,\r\n    url: 'http://47.102.145.29/picture/cai5.jpg',\r\n    num: 0,\r\n    name: '油爆皮皮虾',\r\n    jiage: 48,\r\n  },\r\n  {\r\n    key: 6,\r\n    url: 'http://47.102.145.29/picture/cai6.jpg',\r\n    num: 0,\r\n    name: '小石斑鱼',\r\n    jiage: 38.00,\r\n  }\r\n];\r\nexport default function App2() {\r\n  const [data, setData] = useState(orderList);\r\n  const [show, setShow] = useState(true);\r\n  const [id, setId] = useState(1);\r\n  return (\r\n    <>\r\n      <Router>\r\n        <Routes>\r\n          <Route path=\"/list\" element={<List data={data} setData={setData} id={id} show={show} setShow={setShow} />}></Route>\r\n          <Route path=\"/myInfo\" element={<MyInfo data={data} setData={setData} />}></Route>\r\n          <Route path=\"/orders\" element={<Order data={data} setData={setData} setId={setId} id={id} />}></Route>\r\n        </Routes>\r\n        <div style={{ background: '#fff', borderTop: '1px solid #7E8B92', display: 'flex', alignItems: 'center', justifyContent: 'center', height: '50px', position: 'fixed', bottom: '0px', width: '100%' }}>\r\n          <div style={{ flex: '1', display: 'flex', justifyContent: 'center', borderRight: '1px solid #7E8B92 ' }}>\r\n            <Link to=\"/orders\" style={{ color: '#000', textDecoration: 'none' }}>\r\n              点餐\r\n            </Link>\r\n          </div>\r\n          <div style={{ flex: '1', display: 'flex', justifyContent: 'center', borderRight: '1px solid #7E8B92 ' }}>\r\n            <Link to=\"/list\" style={{ color: '#000', textDecoration: 'none' }}>\r\n              订单\r\n            </Link>\r\n          </div>\r\n          <div style={{ flex: '1', display: 'flex', justifyContent: 'center' }}>\r\n            <Link to=\"/myInfo\" style={{ color: '#000', textDecoration: 'none' }}>\r\n              我的\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </Router>\r\n\r\n    </>\r\n  )\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App2.jsx';\nimport 'antd/dist/antd.css';\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}